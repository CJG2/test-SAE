(()=>{"use strict";var e={};function n(o){var t=e[o];if(void 0!==t)return t.exports;var r=e[o]={exports:{}};return __webpack_modules__[o](r,r.exports,n),r.exports}function o(e,n){const o=document.createElement("div");o.className=`message ${n}`,o.textContent=e;const t=document.querySelector("#container");t.insertBefore(o,t.firstChild),setTimeout((()=>o.remove()),5e3)}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var o=n.g.document;if(!e&&o&&(o.currentScript&&"SCRIPT"===o.currentScript.tagName.toUpperCase()&&(e=o.currentScript.src),!e)){var t=o.getElementsByTagName("script");if(t.length)for(var r=t.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=t[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,document.addEventListener("DOMContentLoaded",(()=>{const e=JSON.parse(localStorage.getItem("userLoggedIn")),n=window.location.pathname,o=["/connexion.html"];if(e){if("adulte"!==e.type&&!o.includes(n))return void(window.location.href="/accueil.html")}else if(!o.includes(n))return void(window.location.href="/connexion.html");const t=document.querySelector("#logout-link");t&&t.addEventListener("click",(e=>{e.preventDefault(),localStorage.removeItem("userLoggedIn"),sessionStorage.removeItem("enfantConnecte"),sessionStorage.removeItem("adulteConnecte"),window.location.href="/connexion.html"}))})),document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelector("#container"),n=document.createElement("form");n.className="feedback-form",n.innerHTML=`\n      <div class="form-group">\n        <label for="rating">Note générale de l'application :</label>\n        <div class="rating-container">\n          ${[1,2,3,4,5].map((e=>`\n            <input type="radio" id="star${e}" name="rating" value="${e}">\n            <label for="star${e}">★</label>\n          `)).join("")}\n        </div>\n      </div>\n  \n      <div class="form-group">\n        <label for="usageFrequency">Fréquence d'utilisation :</label>\n        <select id="usageFrequency" name="usageFrequency" required>\n          <option value="">Sélectionnez une option</option>\n          <option value="daily">Tous les jours</option>\n          <option value="weekly">Plusieurs fois par semaine</option>\n          <option value="monthly">Quelques fois par mois</option>\n          <option value="rarely">Rarement</option>\n        </select>\n      </div>\n  \n      <div class="form-group">\n        <label for="childProgress">Comment évaluez-vous les progrès de votre enfant ?</label>\n        <select id="childProgress" name="childProgress" required>\n          <option value="">Sélectionnez une option</option>\n          <option value="excellent">Excellents progrès</option>\n          <option value="good">Bons progrès</option>\n          <option value="moderate">Progrès modérés</option>\n          <option value="slow">Progrès lents</option>\n        </select>\n      </div>\n  \n      <div class="form-group">\n        <label for="positivePoints">Points positifs de l'application :</label>\n        <textarea id="positivePoints" name="positivePoints" rows="4" placeholder="Qu'appréciez-vous dans l'application ?"></textarea>\n      </div>\n  \n      <div class="form-group">\n        <label for="improvementPoints">Points à améliorer :</label>\n        <textarea id="improvementPoints" name="improvementPoints" rows="4" placeholder="Quelles sont vos suggestions d'amélioration ?"></textarea>\n      </div>\n  \n      <button type="submit" class="submit-btn">Envoyer mon avis</button>\n    `,n.addEventListener("submit",(async e=>{e.preventDefault();const t=new FormData(n),r={rating:t.get("rating"),usageFrequency:t.get("usageFrequency"),childProgress:t.get("childProgress"),positivePoints:t.get("positivePoints"),improvementPoints:t.get("improvementPoints"),userId:JSON.parse(localStorage.getItem("userLoggedIn")).id,timestamp:(new Date).toISOString()};try{console.log("Feedback envoyé:",r),o("Merci pour votre feedback !","success"),n.reset()}catch(e){o("Une erreur est survenue. Veuillez réessayer.","error")}})),e.appendChild(n)}()}))})();